let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(e){"object"==typeof e?t.push(e):console.error("Invalid attempt to add non-object to pokemonList")}function o(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(function(t){console.error(t)})}function i(){$(".spinner-border").toggleClass("invisible")}return $("#pokeDetails").on("show.bs.modal",function(t){i();let e=$(t.relatedTarget),n={name:e.data("name"),detailsUrl:e.data("detailsurl")},a=$(this);a.find(".modal-title").text(""),a.find(".modal-title").text(n.name);let l=a.find(".modal-body");l.empty(),o(n).then(function(){let t=$('<img src="'+n.imageUrl+'" class="img-fluid">'),e="<p>Height: "+n.height+"</p>",o="<p>Type(s): "+n.types[0].type.name;for(let t=1;t<n.types.length;t++)o+=", "+n.types[t].type.name;e+=o+="</p>",l.append(t),l.append(e)}),i()}),{add:n,getAll:function(){return t},lookUp:function(e){return t.filter(t=>t.name===e)},addListItem:function(t){let e=$(".pokemon-list"),n=' type="button"',o=' class=" pokeName group-list-item group-list-item-action"',i=' data-toggle="modal"',a=' data-target="#pokeDetails"',l=' data-name="'+t.name+'"',r=' data-detailsurl="'+t.detailsUrl+'"',s=$("<button"+n+o+i+a+l+r+">"+t.name+"</button>");e.append(s)},loadList:function(){return i(),fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name.charAt(0).toUpperCase()+t.name.slice(1),detailsUrl:t.url})}),i()}).catch(function(t){console.error(t),i()})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
